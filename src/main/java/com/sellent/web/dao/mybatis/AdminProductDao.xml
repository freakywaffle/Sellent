<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.asg0828.web.dao.AdminProductDao">

	<select id="getViewList" resultType="com.asg0828.web.entity.AdminProductView">
		select * from AdminProductView	
		where 
			approval like CONCAT('%', #{param1}, '%') 
			
		<if test="param2 != '' and param3 != ''">
			and regdate between date(#{param2}) and date(#{param3})+1 	
		</if>
				
		<if test="param5 != ''">
			and  #{param4} like CONCAT('%', #{param5}, '%')
		</if>
			limit #{param6.startCount}, #{param6.endCount};
	</select>

	<select id="getProductCnt" resultType="int">
		select count(*) from AdminProductView
<!-- 		where 
			approval like CONCAT('%', #{param1}, '%') and 
			regdate between date(#{param2}) and date(#{param3})+1 
		<if test="param4 == ''">
			and `title`=#{param5} or `writerId`=#{param5} 
		</if>
		<if test="param5 =! ''">
			and  #{param4} like CONCAT('%', #{param5}, '%')
		</if> -->
	</select>

</mapper>